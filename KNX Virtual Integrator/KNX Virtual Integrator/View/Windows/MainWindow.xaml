<mah:MetroWindow x:Class="KNX_Virtual_Integrator.View.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:viewmodel="clr-namespace:KNX_Virtual_Integrator.ViewModel" d:DataContext="{d:DesignInstance Type=viewmodel:MainViewModel}"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        mc:Ignorable="d"
        Title="MainWindow" 
        WindowState="Maximized"
        ResizeMode="CanResize"
        WindowStyle="None"
        Width="1366" Height="786"
        WindowTitleBrush="{StaticResource BackgroundGreen}"
        NonActiveWindowTitleBrush="{StaticResource BackgroundLightGreen}"
        Background="{StaticResource BackgroundWhite}"
        TitleCharacterCasing="Normal"
        ShowIconOnTitleBar="False"
        Closing="ClosingMainWindow">
    
    <Window.Resources>
<SolidColorBrush x:Key="ButtonBlue" Color="#4071B4"/>
        <SolidColorBrush x:Key="ButtonBlueAccentuated" Color="#355e97"/>
        <SolidColorBrush x:Key="KnxGreen" Color="#369026"/>
        <SolidColorBrush x:Key="KnxGreenAccentuated" Color="#4a9b3c"/>
        <SolidColorBrush x:Key="ButtonRed" Color="#C75150"/>
        <SolidColorBrush x:Key="ButtonRedAccentuated" Color="#B73B3B"/>
        <SolidColorBrush x:Key="ForegroundButtonColour" Color="#FFFFFF"/>

        
        <SolidColorBrush x:Key="ButtonDisabled" Color="#A0A0A0"/>

        
        <!-- Style pour le bouton de cconnexion -->
        <Style TargetType="Button" x:Key="ConnectButton">
            <Style.Triggers>
                <!-- Quand IsConnected est True -->
                <DataTrigger Binding="{Binding IsConnected}" Value="True">
                    <Setter Property="Background" Value="{StaticResource KnxGreen}"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="Height" Value="25"/>
                    <Setter Property="Width" Value="25"/>
                    
                    <!-- Triggers pour les états de survol et de clic -->
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="btnBorder" 
                                        Background="{TemplateBinding Background}"
                                        BorderThickness="0"
                                        Padding="0"
                                        CornerRadius="0"
                                        Width="{TemplateBinding Width}"
                                        Height="{TemplateBinding Height}">
                                    <Grid>
                                        <Image Width="15" Height="15" Margin="5,0,5,0" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Fill">
                                            <Image.Source>
                                                <DrawingImage>
                                                  <DrawingImage.Drawing>
                                                    <DrawingGroup ClipGeometry="M0,0 V13.86 H14.08 V0 H0 Z">
                                                      <DrawingGroup Opacity="1">
                                                        <DrawingGroup Opacity="1">
                                                          <DrawingGroup Opacity="1">
                                                            <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M14.08,13.86z M0,0z M8.44,7.14L8.16,7.42 6.72,5.98 6.43,5.7 M5.99,5.25L5.23,4.49C5.16,4.42 5.09,4.39 5.01,4.39 4.93,4.39 4.87,4.41 4.81,4.46L3.7,5.58C3.08,6.17 2.73,6.99 2.73,7.84 2.71,8.48 2.92,9.11 3.3,9.62L3.51,9.9 3.26,10.15 0.1,13.3C0.04,13.37 0,13.44 0,13.51 0,13.59 0.02,13.66 0.07,13.72L0.09,13.72C0.09,13.72 0.12,13.76 0.12,13.76 0.17,13.82 0.25,13.86 0.33,13.86 0.4,13.86 0.47,13.83 0.52,13.78L3.67,10.63 3.91,10.39 4.19,10.59C4.75,10.99 5.41,11.2 6.09,11.2 6.96,11.2 7.77,10.87 8.39,10.27L9.47,9.18C9.54,9.12 9.57,9.04 9.57,8.95 9.58,8.87 9.55,8.8 9.5,8.76L8.61,7.87 5.99,5.25z M8.75,8.95L8.49,9.23 7.94,9.81C7.44,10.3 6.8,10.56 6.11,10.56 5.43,10.56 4.78,10.3 4.29,9.82L4.14,9.67C3.66,9.18 3.39,8.53 3.38,7.84 3.39,7.14 3.66,6.5 4.15,6.03L4.72,5.45 5.01,5.16 5.29,5.45 8.48,8.68 8.75,8.95z" />
                                                            <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M14.08,13.86z M0,0z M13.98,0.56C14.11,0.44,14.12,0.25,14.01,0.13L14.01,0.13C14.01,0.13 13.98,0.0900000000000001 13.98,0.0900000000000001 13.91,0.03 13.84,0 13.76,0 13.68,0 13.61,0.03 13.56,0.08L11,2.64 10.75,2.88 10.48,2.68C9.92,2.26 9.26,2.04 8.56,2.04 7.71,2.04 6.91,2.37 6.31,2.97L5.22,4.05C5.16,4.11 5.12,4.2 5.12,4.28 5.12,4.37 5.14,4.43 5.2,4.48L9.44,8.72C9.51,8.79 9.58,8.83 9.67,8.83 9.74,8.83 9.81,8.8 9.86,8.75L10.98,7.66C11.58,7.07 11.92,6.24 11.91,5.39 11.91,4.76 11.73,4.15 11.39,3.62L11.22,3.35 11.44,3.13 13.98,0.56z M11.26,5.39C11.26,6.06,11,6.7,10.53,7.18L9.95,7.76 9.67,8.05 9.38,7.76 6.17,4.55 5.87,4.26 6.18,3.97 6.76,3.43C7.22,2.94 7.87,2.67 8.56,2.67 9.22,2.67 9.84,2.92 10.31,3.38L10.35,3.42 10.47,3.51 10.5,3.53 10.53,3.56C10.99,4.06,11.25,4.71,11.25,5.38z" />
                                                          </DrawingGroup>
                                                        </DrawingGroup>
                                                      </DrawingGroup>
                                                    </DrawingGroup>
                                                  </DrawingImage.Drawing>
                                                </DrawingImage>
                                            </Image.Source>
                                        </Image>
                                    </Grid>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="btnBorder" Property="Background" Value="{StaticResource KnxGreenAccentuated}"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter TargetName="btnBorder" Property="Background" Value="{StaticResource KnxGreenAccentuated}"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
                
                <!-- Quand IsConnected est False -->
                <DataTrigger Binding="{Binding IsConnected}" Value="False">
                    <Setter Property="Background" Value="{StaticResource ButtonRed}"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="Height" Value="25"/>
                    <Setter Property="Width" Value="25"/>
                    
                    <!-- Triggers pour les états de survol et de clic -->
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="btnBorder" 
                                        Background="{TemplateBinding Background}"
                                        BorderThickness="0"
                                        Padding="0"
                                        CornerRadius="0"
                                        Width="{TemplateBinding Width}"
                                        Height="{TemplateBinding Height}">
                                    <Grid>
                                       <Image Grid.Column="0" Width="15" Height="15" Margin="5,0,5,0" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Fill">
                                            <Image.Source>
                                                <DrawingImage>
                                                  <DrawingImage.Drawing>
                                                    <DrawingGroup ClipGeometry="M0,0 V13.71 H13.71 V0 H0 Z">
                                                      <DrawingGroup Opacity="1">
                                                        <DrawingGroup Opacity="1">
                                                          <DrawingGroup Opacity="1">
                                                            <DrawingGroup Opacity="1">
                                                              <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M13.71,13.71z M0,0z M8.14,8.19C8.18,8.12 8.2,8.05 8.19,7.97 8.18,7.88 8.13,7.81 8.06,7.75 8.01,7.71 7.94,7.69 7.87,7.69 7.8,7.69 7.74,7.71 7.69,7.74L6.48,8.95 6.2,9.23 4.76,7.79 4.47,7.51 4.76,7.22 5.97,6.01C6.01,5.95 6.03,5.87 6.01,5.79 6,5.71 5.96,5.63 5.89,5.58 5.83,5.54 5.76,5.51 5.69,5.51 5.63,5.51 5.57,5.53 5.52,5.57L4.31,6.77 4.03,7.06 3.27,6.3C3.2,6.23 3.13,6.2 3.05,6.2 2.97,6.2 2.91,6.22 2.85,6.27L1.74,7.39C1.12,7.98 0.769999999999999,8.8 0.769999999999999,9.65 0.749999999999999,10.29 0.959999999999999,10.92 1.34,11.43L1.55,11.71 1.3,11.96 0.1,13.15C0.04,13.22 0,13.29 0,13.36 0,13.44 0.02,13.51 0.07,13.57L0.09,13.57C0.09,13.57 0.12,13.61 0.12,13.61 0.17,13.67 0.25,13.71 0.33,13.71 0.4,13.71 0.47,13.68 0.52,13.63L1.71,12.44 1.95,12.2 2.23,12.4C2.79,12.8 3.45,13.01 4.13,13.01 5,13.01 5.81,12.68 6.43,12.08L7.51,10.99C7.58,10.93 7.61,10.85 7.61,10.76 7.62,10.68 7.59,10.61 7.54,10.57L6.65,9.68 6.93,9.4 8.14,8.19z M6.79,10.76L6.53,11.04 5.98,11.62C5.48,12.11 4.84,12.37 4.15,12.37 3.46,12.37 2.82,12.11 2.33,11.63L2.18,11.48C1.7,10.99 1.43,10.34 1.42,9.65 1.43,8.95 1.7,8.31 2.19,7.84L2.76,7.26 3.05,6.97 3.33,7.26 6.52,10.49 6.79,10.76z" />
                                                              <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M13.71,13.71z M0,0z M13.6,0.56C13.73,0.44,13.74,0.25,13.63,0.13L13.62,0.13C13.62,0.13 13.59,0.0900000000000001 13.59,0.0900000000000001 13.53,0.0300000000000001 13.46,5.55111512312578E-17 13.38,5.55111512312578E-17 13.3,5.55111512312578E-17 13.23,0.0300000000000001 13.18,0.0800000000000001L11.92,1.34 11.67,1.58 11.4,1.38C10.84,0.96 10.17,0.74 9.47,0.74 8.62,0.74 7.81,1.07 7.21,1.67L6.12,2.75C6.06,2.81 6.02,2.9 6.02,2.98 6.02,3.07 6.04,3.13 6.1,3.18L10.36,7.44C10.43,7.51 10.5,7.55 10.59,7.55 10.66,7.55 10.73,7.52 10.78,7.47L11.9,6.38C12.5,5.79 12.84,4.95 12.83,4.1 12.83,3.47 12.65,2.85 12.31,2.32L12.14,2.05 12.36,1.83 13.6,0.559999999999999z M12.18,4.1C12.19,4.77,11.92,5.42,11.45,5.9L10.87,6.48 10.59,6.77 10.3,6.48 7.08,3.26 6.78,2.97 7.09,2.68 7.67,2.14C8.13,1.65 8.78,1.38 9.48,1.38 10.14,1.38 10.77,1.63 11.24,2.09L11.28,2.13 11.4,2.22 11.43,2.24 11.46,2.27C11.92,2.77,12.18,3.42,12.18,4.1z" />
                                                            </DrawingGroup>
                                                          </DrawingGroup>
                                                          <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M13.71,13.71z M0,0z M3.91,4.83C3.91,4.65 4.04,4.51 4.21,4.51 4.39,4.51 4.51,4.64 4.51,4.83 4.51,5.02 4.39,5.15 4.21,5.15 4.03,5.15 3.91,5.01 3.91,4.83z M4.04,4.1L3.97,1.65 4.46,1.65 4.39,4.1 4.04,4.1z" />
                                                        </DrawingGroup>
                                                      </DrawingGroup>
                                                    </DrawingGroup>
                                                  </DrawingImage.Drawing>
                                                </DrawingImage>
                                            </Image.Source>
                                        </Image>
                                    </Grid>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="btnBorder" Property="Background" Value="{StaticResource ButtonRedAccentuated}"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter TargetName="btnBorder" Property="Background" Value="{StaticResource ButtonRedAccentuated}"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <!-- Paramètres du logo dans la barre de titre -->
    <mah:MetroWindow.LeftWindowCommands>
        <mah:WindowCommands>
            <StackPanel Background="Transparent"  HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Height="15" Margin="10" >
                    <Image.Source>
                        <DrawingImage>
                            <DrawingImage.Drawing>
                                <DrawingGroup ClipGeometry="M0,0 V203.02 H1343.71 V0 H0 Z">
                                    <GeometryDrawing Brush="White">
                                        <GeometryDrawing.Geometry>
                                            <RectangleGeometry RadiusX="0" RadiusY="0" Rect="3.05,8,60.09,188.15" />
                                        </GeometryDrawing.Geometry>
                                    </GeometryDrawing>
                                    <GeometryDrawing Brush="White" Geometry="F1 M1343.71,203.02z M0,0z M275.89,8L275.89,8 275.89,102.58 202.51,39.05 137.5,102.09 137.5,179.9 63.14,103.07 156.77,8 275.89,8z" />
                                    <GeometryDrawing Brush="White" Geometry="F1 M1343.71,203.02z M0,0z M409.61,104.79L409.61,104.79 496.24,196.15 424.74,196.15 371.93,141.98 315.92,196.15 196.11,196.15 196.11,100.87 271.09,166.75 333.76,104.3 333.02,31.17 371.56,67.73 430.12,8 503.52,8 409.61,104.79z" />
                                    <GeometryDrawing Brush="White" Geometry="F1 M1343.71,203.02z M0,0z M616.85,165.28L616.85,165.28 610.5,188.57 608.23,196.89 581,196.89 551.03,165.28 616.85,165.28z" />
                                    <GeometryDrawing Brush="White" Geometry="F1 M1343.71,203.02z M0,0z M639.38,82.61L639.38,82.61 630.76,114.23 502.62,114.23 494.13,105.28 516.13,82.61 639.38,82.61z" />
                                    <GeometryDrawing Brush="White" Geometry="F1 M1343.71,203.02z M0,0z M659.81,7.63L659.81,7.63 651.19,39.25 558.2,39.25 588.87,7.63 659.81,7.63z" />
                                </DrawingGroup>
                            </DrawingImage.Drawing>
                        </DrawingImage>
                    </Image.Source>
                </Image>
            </StackPanel>
        </mah:WindowCommands>
    </mah:MetroWindow.LeftWindowCommands>

    <mah:MetroWindow.TaskbarItemInfo>
        <TaskbarItemInfo x:Name="TaskbarInfo"/>
    </mah:MetroWindow.TaskbarItemInfo>

    <!-- Conteneur principal -->

        <Grid>
            <!-- Define rows for buttons and content -->
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!-- Buttons at the top -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" Margin="10">

                <!-- Bouton Connexion -->
                <Button 
                    Command="{Binding OpenConnectionWindowCommand}"
                    Style="{StaticResource ConnectButton}"
                    Margin="0,0,5,0"
                    
            />

                <!-- Premier bouton Importation -->
                <Button Style="{StaticResource IconButtonStyle}"
                    Tag="{StaticResource ImportedDrawingImage}" 
                    Click="ImportGroupAddressFileButtonClick"
                    Command="{Binding ShowModelColumnCommand}"
                    Margin="5,0,0,0"     
            />

                <!-- Deuxième bouton Importation -->
                <Button Content="{StaticResource ImportButton}"
                    Style="{StaticResource IconTextButtonStyle}"
                    Tag="{StaticResource ImportedDrawingImage}"
                    Click="ImportProjectButtonClick"
                    Background="{StaticResource AccentuateBlue}"
                    Command="{Binding ShowAdressColumnCommand}"
                    Margin="5,0"
            />

                <!-- Bouton Paramètres -->
                <Button Style="{StaticResource IconButtonStyle}"
                    Tag="{StaticResource settingsDrawingImage}"
                    Background="{StaticResource BackgroundWhite}"
                    BorderBrush="{StaticResource BorderGray}"
                    BorderThickness="1"
                    Margin="0,0"
            />

                <Button Content="Envoyer Trame" Click="OnWriteButtonClick" />
                <Button Content="Lire Trame" Click="OnReadButtonClick" />
            </StackPanel>

            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">

                <!-- Bouton de Test -->
                <Button Content="{StaticResource TestButton}"
                    Style="{StaticResource IconTextButtonStyle}"
                    Tag="{StaticResource playDrawingImage}"
                    Margin="5,0"
            />
                <!-- Bouton d'Exportation -->
                <Button Content="{StaticResource ExportButton}"
                    Style="{StaticResource IconTextButtonStyle}"
                    Tag="{StaticResource ExportedDrawingImage}"
            />
            </StackPanel>

            <Border Grid.Row="1" BorderBrush="{StaticResource BorderGray}" BorderThickness="1" Margin="10,0,10,10">
                <Grid>
                    <!-- Define rows and columns for the nested grid -->
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <!-- Row for nested top content -->
                        <RowDefinition Height="*" />
                        <!-- Row for nested main content -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MinWidth="200"  Width="Auto" />
                        <!-- Column for nested section 1 -->
                        <ColumnDefinition  Width="{Binding ModelColumnWidth}" />
                        <!-- Column for nested expandable section -->
                        <ColumnDefinition Width="{Binding AdressColumnWidth}" />
                        <!-- Column for nested section 2 -->
                        <ColumnDefinition MinWidth="200"  Width="*" />
                        <!-- Column for nested section 2 -->
                    </Grid.ColumnDefinitions>

                    <!-- Première colonne -->
                    <!-- En-tête -->
                    <Grid Grid.Row="0" Grid.Column="0" Background="{StaticResource BackgroundLightGray}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <!-- Column for title -->
                            <ColumnDefinition Width="Auto" />
                            <!-- Column for button -->
                        </Grid.ColumnDefinitions>

                        <StackPanel Background="Transparent" Orientation="Horizontal" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="10,0">

                            <Image Source="{StaticResource FonctionalModelDrawingImage}" Height="20"/>
                            <TextBlock 
                                   Style="{StaticResource TitleTextStyle}"
                                   Text="{StaticResource ModelsTitle}"
                            />


                        </StackPanel>


                        <Button Grid.Column="1"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                Style="{StaticResource IconButtonStyle}"
                                Tag="{StaticResource SearchDrawingImage}"
                                BorderBrush="{StaticResource BorderGray}"
                                BorderThickness="1"
                                Margin="5"
                                Padding="5"
                                Background="{StaticResource BackgroundWhite}"
                                Height="30"
                         />


                    </Grid>

                    <ListBox Grid.Row="1" Grid.Column="0">
                        <ListBoxItem Content="Item 1" />
                        <ListBoxItem Content="Item 2" />
                        <ListBoxItem Content="Item 3" />
                    </ListBox>

                    <!-- Deuxième colonne -->
                    <!-- En-tête -->
                    <Grid Grid.Row="0" Grid.Column="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <!-- Column for title -->
                            <ColumnDefinition Width="*" />
                            <!-- Column for button -->
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                               Style="{StaticResource TitleTextStyle}"
                               Text="{StaticResource ModelsParametersTitle}"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Left"
                               Margin="5,0"
                     />

                        <Button Grid.Column="1"
                            Style="{StaticResource IconButtonStyle}"
                            Tag="{StaticResource CloseDrawingImage}"
                            HorizontalAlignment="Right"
                            Background="Transparent"
                            Height="35"
                            Command="{Binding HideModelColumnCommand}"
                    />
                    </Grid>

                    <Grid Margin="10,10,10,0" Grid.Row="1" Grid.Column="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="0" FocusVisualStyle="{x:Null}" BorderThickness="0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <StackPanel Orientation="Vertical" Margin="0,10,0,0">
                                    <TextBlock Text="{StaticResource Name:}" VerticalAlignment="Center" Grid.Row="0"/>
                                    <TextBox x:Name="NomTextBox2" HorizontalAlignment="Left" Width="200" Grid.Row="0"/>

                                    <TextBlock Text="{StaticResource SentDPT}" VerticalAlignment="Center" Grid.Row="1" Margin="0,10,0,0"/>
                                    <ComboBox x:Name="DptSortieComboBox" Width="200" HorizontalAlignment="Left" Grid.Row="1">
                                        <ComboBoxItem Content="1 bit" />
                                        <ComboBoxItem Content="2 bits" />
                                        <ComboBoxItem Content="4 bits" />
                                        <!-- Ajoutez d'autres options ici si nécessaire -->
                                    </ComboBox>

                                <TextBlock Text="{StaticResource DPTsubtype}" VerticalAlignment="Center" Grid.Row="1" Margin="0,10,0,0"/>
                                <ComboBox x:Name="DptSortieComboBox2" Width="200" HorizontalAlignment="Left" Grid.Row="1">
                                    <ComboBoxItem Content="1 bit" />
                                    <ComboBoxItem Content="2 bits" />
                                    <ComboBoxItem Content="4 bits" />
                                    <!-- Ajoutez d'autres options ici si nécessaire -->
                                </ComboBox>

                                <CheckBox x:Name="ParametresAvancesCheckBox2" Foreground="Black" FocusVisualStyle="{x:Null}" 
                                           Content="{StaticResource AdvancedSettings}" Grid.Row="2" Margin="0,10,0,0"/>


                                </StackPanel>
                                <StackPanel Orientation="Vertical" Grid.Row="1" Margin="0,10,0,0">
                                    <TextBlock Text="{StaticResource ExpectedDPT}" VerticalAlignment="Center" Grid.Row="3" Margin="0,10,0,0"/>
                                    <ComboBox x:Name="DptRetourComboBox2" HorizontalAlignment="Left" Width="200" Grid.Row="3">
                                        <ComboBoxItem Content="8 bit" />
                                        <ComboBoxItem Content="16 bits" />
                                        <!-- Ajoutez d'autres options ici si nécessaire -->
                                    </ComboBox>
                                </StackPanel>

                                <StackPanel Grid.Row="4" Margin="0,10,0,0">
                                    <TextBlock Text="{StaticResource TableTitleSentExpected}" />

                                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                        <Button Content="+" Width="30" Height="30" Margin="0,5,0,0"/>
                                        <TextBox x:Name="ValeurEnvoye1TextBox" Width="50" Margin="10,0,0,0" />
                                        <TextBox x:Name="ValeurAttendue1TextBox" Width="50" Margin="10,0,0,0" />
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                        <Button Content="-" Width="30" Height="29" Margin="0,5,0,0"/>
                                        <TextBox x:Name="ValeurEnvoye2TextBox" Width="50" Margin="10,0,0,0" />
                                        <TextBox x:Name="ValeurAttendue2TextBox" Width="50" Margin="10,0,0,0" />
                                    </StackPanel>



                                </StackPanel>
                            </Grid>
                        </ScrollViewer>

                        <StackPanel Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Right" Grid.Row="1" Margin="10">
                            <Button Style="{StaticResource IconTextButtonStyle}"
                                Tag="{StaticResource FilterDrawingImage}"
                                Content="Filtrer" Margin="10,0"/>
                            <Button Style="{StaticResource IconTextButtonStyle}"
                                Tag="{StaticResource CheckmarkDrawingImage}"
                                Content="Enregistrer"/>
                        </StackPanel>
                    </Grid>


                    <!-- Troisième colonne -->
                    <!-- En-tête -->
                    <Grid Grid.Row="0" Grid.Column="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <!-- Column for title -->
                            <ColumnDefinition Width="*" />
                            <!-- Column for button -->
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                               Style="{StaticResource TitleTextStyle}"
                               Text="{StaticResource CommandeParametersTitle}"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Left"
                               Margin="5,0"
                     />

                        <Button Grid.Column="1"
                            Style="{StaticResource IconButtonStyle}"
                            Tag="{StaticResource CloseDrawingImage}"
                            HorizontalAlignment="Right"
                            Background="Transparent"
                            Height="35"
                            Command="{Binding HideAdressColumnCommand}"
                    />
                    </Grid>

                    <TextBlock Grid.Row="1" Grid.Column="2" Text="ICI LES PARAMETRES DE LA COMMANDE QUAND ON CLIQUE SUR UNE ADRESSE ?" 
                            TextWrapping="Wrap" VerticalAlignment="Center" HorizontalAlignment="Center" />

                    

                <!-- Quatrième colonne -->
                    <!-- En-tête -->
                    <Grid Grid.Row="0" Grid.Column="3"  Background="{StaticResource BackgroundLightGray}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <!-- Column for title -->
                            <ColumnDefinition Width="Auto" />
                            <!-- Column for button -->
                        </Grid.ColumnDefinitions>



                        <StackPanel Background="Transparent" Orientation="Horizontal" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center">

                            <Image Source="{StaticResource GroupAdressesDrawingImage}" Height="20"/>
                            <TextBlock 
                                   Style="{StaticResource TitleTextStyle}"
                                   Text="{StaticResource GroupAdressesTitle}"
                            />
                            

                        </StackPanel>


                        <Button Grid.Column="1"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                Style="{StaticResource IconButtonStyle}"
                                Tag="{StaticResource SearchDrawingImage}"
                                BorderBrush="{StaticResource BorderGray}"
                                BorderThickness="1"
                                Margin="5"
                                Padding="5"
                                Background="{StaticResource BackgroundWhite}"
                                Height="30"
                        />
                    
                        

                    </Grid>


                    <!-- TreeView in the third column -->
                    <TreeView Grid.Row="1" Grid.Column="3" >
                        <TreeViewItem Header="Éclairage">
                            <TreeViewItem Header="Marche/Arrêt">
                                <TreeViewItem Header="Cmd_PlanDeTravail_Cuisine" />
                            </TreeViewItem>
                            <TreeViewItem Header="Indication d'état">
                                <TreeViewItem Header="le_PlanDeTravail_Cuisine" />
                            </TreeViewItem>
                        </TreeViewItem>
                    </TreeView>

                </Grid>
            </Border>

        </Grid>

</mah:MetroWindow>

